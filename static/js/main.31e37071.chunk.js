(this["webpackJsonpfind-your-bank"]=this["webpackJsonpfind-your-bank"]||[]).push([[0],{149:function(e,t,a){},155:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(56),r=a.n(i),s=a(86),l=(a(149),a(12)),o=a(22),b=a(179),j=a(4),d=function(){var e=Object(l.g)(),t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],i=a[1],r=function(t,a){var c=a.name;i(c),"All Banks"===c?e.push("/all-banks"):e.push("/favorites")};return Object(j.jsxs)(b.a,{vertical:!0,size:"large",children:[Object(j.jsx)(b.a.Item,{name:"All Banks",active:"All Banks"===n,onClick:r}),Object(j.jsx)(b.a.Item,{name:"Favorites",active:"Favorites"===n,onClick:r})]})},f=a(90),u=a(173),O=a(174),h=[{text:"Mumbai",value:"MUMBAI"},{text:"Ranchi",value:"RANCHI"},{text:"Bangalore",value:"BANGALORE"},{text:"Hyderabad",value:"HYDERABAD"},{text:"Pune",value:"PUNE"}],v=[{text:"IFSC",value:"ifsc"},{text:"Branch",value:"branch"},{text:"Bank Name",value:"bank_name"},{text:"Bank ID",value:"bank_id"}],g=a(177),x=a(181),S=a(83),k=function(e){var t=e.bank,a=t.bank_name,c=t.ifsc,n=t.branch,i=t.bank_id,r=t.address,s=t.favorite;return Object(j.jsxs)(g.a.Row,{textAlign:"center",children:[Object(j.jsx)(g.a.Cell,{width:1,"data-favorite":"".concat(c),children:Object(j.jsx)(S.a,{name:"star ".concat(s?"":"outline"),color:"yellow",size:"large","data-favorite":"".concat(c)})}),Object(j.jsx)(g.a.Cell,{width:3,"data-bank":"".concat(c),children:a}),Object(j.jsx)(g.a.Cell,{width:3,"data-bank":"".concat(c),children:c}),Object(j.jsx)(g.a.Cell,{width:3,"data-bank":"".concat(c),children:n}),Object(j.jsx)(g.a.Cell,{width:3,"data-bank":"".concat(c),children:i}),Object(j.jsx)(g.a.Cell,{width:3,"data-bank":"".concat(c),children:r})]})},m=(a(155),function(e){var t=e.data,a=e.city,n=e.query_string,i=e.favoriteActionHandler,r=t,s=Object(c.useState)(1),b=Object(o.a)(s,2),d=b[0],f=b[1],O=Object(c.useState)([]),h=Object(o.a)(O,2),v=h[0],S=h[1],m=Object(c.useState)(10),p=Object(o.a)(m,2),_=p[0],y=(p[1],Object(l.g)());return Object(c.useEffect)((function(){var e=(d-1)*_,t=e+_;S(r.slice(e,t))}),[d,r,_]),Object(c.useEffect)((function(){n&&f(1)}),[n]),Object(c.useEffect)((function(){f(1)}),[a]),Object(j.jsx)(u.a,{children:Object(j.jsxs)(g.a,{celled:!0,unstackable:!0,selectable:!0,inverted:!0,children:[Object(j.jsx)(g.a.Header,{children:Object(j.jsxs)(g.a.Row,{textAlign:"center",children:[Object(j.jsx)(g.a.HeaderCell,{children:"FAVORITE"}),Object(j.jsx)(g.a.HeaderCell,{children:"BANK"}),Object(j.jsx)(g.a.HeaderCell,{children:"IFSC"}),Object(j.jsx)(g.a.HeaderCell,{children:"BRANCH"}),Object(j.jsx)(g.a.HeaderCell,{children:"BANK ID"}),Object(j.jsx)(g.a.HeaderCell,{children:"ADDRESS"})]})}),Object(j.jsx)(g.a.Body,{onClick:function(e){e.target.dataset.bank&&y.push({pathname:"/all-banks/".concat(e.target.dataset.bank),state:{city:a}}),e.target.dataset.favorite&&i(e.target.dataset.favorite)},children:v.map((function(e){return Object(j.jsx)(k,{bank:e},e.ifsc)}))}),Object(j.jsx)(g.a.Footer,{fullWidth:!0,children:Object(j.jsx)(g.a.Row,{children:Object(j.jsxs)(g.a.HeaderCell,{colSpan:"6",children:[Object(j.jsxs)("span",{className:"row-details",children:["Rows per page:",Object(j.jsx)("input",{type:"text",value:v.length})]}),!!Math.ceil(r.length/_)&&Object(j.jsx)(x.a,{totalPages:Math.ceil(r.length/_),floated:"right",activePage:d,onPageChange:function(e,t){var a=t.activePage;f(a)},color:"grey",inverted:!0})]})})})]})})}),p=a(135),_=a(175),y=function(e){var t=e.options,a=e.placeholder,c=e.value,n=Object(p.a)(e,["options","placeholder","value"]),i=sessionStorage.getItem("city");return Object(j.jsx)(_.a,Object(f.a)(Object(f.a)({placeholder:a,search:!0,selection:!0,options:t},n),{},{defaultValue:"city"===c?i:c}))};a(158);var I=function(){var e=Object(c.useState)("MUMBAI"),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)([]),r=Object(o.a)(i,2),s=r[0],l=r[1],b=Object(c.useState)([]),d=Object(o.a)(b,2),g=d[0],x=d[1],S=Object(c.useState)(null),k=Object(o.a)(S,2),p=k[0],_=k[1],I=Object(c.useState)(""),N=Object(o.a)(I,2),C=N[0],A=N[1];return Object(c.useEffect)((function(){if(sessionStorage.getItem("city")){var e=sessionStorage.getItem("city");n(e)}}),[]),Object(c.useEffect)((function(){sessionStorage.setItem("city",a)}),[a]),Object(c.useEffect)((function(){(function(e){var t=localStorage.getItem("bank_details_".concat(e));if(t){var a=JSON.parse(t);return Promise.resolve(a)}return fetch("".concat("https://vast-shore-74260.herokuapp.com","/banks?city=").concat(e)).then((function(e){return e.json()}))})(a).then((function(e){var t=JSON.parse(localStorage.getItem("bank_details_".concat(a)));if(t)x(t),l(t);else{var c=function(e){return e.map((function(e){var t=e.bank_name,a=e.ifsc,c=e.branch,n=e.bank_id,i=e.address,r=e.city;return Object(f.a)({bank_name:t,ifsc:a,branch:c,bank_id:n,address:i,city:r},{favorite:!1})}))}(e);localStorage.setItem("bank_details_".concat(a),JSON.stringify(c)),x(c),l(c)}}))}),[a]),Object(c.useEffect)((function(){if(p&&C){var e=s.filter((function(e){return"bank_id"!==p?e[p].toLowerCase().includes(C.toLowerCase()):JSON.stringify(e[p]).includes(C)}));x(e)}else x(s)}),[C,x,s,p]),Object(j.jsxs)(u.a,{children:[Object(j.jsxs)("div",{className:"table-header",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h2",{style:{marginTop:"20px"},children:["Banks in ",a]})}),Object(j.jsxs)("div",{className:"query-container",children:[Object(j.jsx)("div",{className:"query-fields",children:Object(j.jsx)(y,{options:h,placeholder:"Select City",onChange:function(e,t){n(t.value),A("")},value:"city"})}),Object(j.jsx)("div",{className:"query-fields",children:Object(j.jsx)(y,{options:v,placeholder:"Select Categorie",onChange:function(e,t){_(t.value),A("")},value:p})}),Object(j.jsx)("div",{className:"query-fields",children:Object(j.jsx)(O.a,{showNoResults:!1,onSearchChange:function(e,t){A(t.value)},value:C,disabled:!p})})]})]}),Object(j.jsx)(m,{data:g,city:a,favoriteActionHandler:function(e){var t=JSON.parse(localStorage.getItem("bank_details_".concat(a)));t.forEach((function(t){if(t.ifsc===e){t.favorite=!t.favorite;var a=[];if(t.favorite)localStorage.getItem("favorite_banks")?(a=JSON.parse(localStorage.getItem("favorite_banks"))).push(t):a.push(t),localStorage.setItem("favorite_banks",JSON.stringify(a));else if(localStorage.getItem("favorite_banks")){var c=(a=JSON.parse(localStorage.getItem("favorite_banks"))).findIndex((function(t){return t.ifsc===e}));a.splice(c,1),localStorage.setItem("favorite_banks",JSON.stringify(a))}}})),localStorage.setItem("bank_details_".concat(a),JSON.stringify(t)),x(t),l(t)},query_string:C})]})},N=a(178),C=function(){var e=Object(l.i)().ifsc,t=Object(l.h)(),a=localStorage.getItem("bank_details_".concat(t.state.city)),c=JSON.parse(a).filter((function(t){return t.ifsc===e}))[0],n=c.bank_name,i=c.branch,r=(c.bank_id,c.address);return Object(j.jsx)(u.a,{textAlign:"center",style:{height:"100vh"},children:Object(j.jsxs)(N.a,{style:{margin:"auto",marginTop:"150px"},raised:!0,children:[Object(j.jsx)(N.a.Content,{header:n}),Object(j.jsx)(N.a.Meta,{content:i}),Object(j.jsx)(N.a.Content,{description:r}),Object(j.jsx)(N.a.Content,{extra:!0,children:e})]})})};var A=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorite_banks"));n(e)}),[]),Object(j.jsxs)(u.a,{children:[Object(j.jsx)("div",{className:"table-header",children:Object(j.jsx)("div",{children:Object(j.jsx)("h2",{style:{marginTop:"20px"},children:"FAVORITE BANKS"})})}),Object(j.jsx)(m,{data:a,favoriteActionHandler:function(e){JSON.parse(localStorage.getItem("favorite_banks")).forEach((function(t){if(t.ifsc===e){t.favorite=!t.favorite;var a=[];if(t.favorite)localStorage.getItem("favorite_banks")?(a=JSON.parse(localStorage.getItem("favorite_banks"))).push(t):a.push(t),localStorage.setItem("favorite_banks",JSON.stringify(a));else if(localStorage.getItem("favorite_banks")){var c=(a=JSON.parse(localStorage.getItem("favorite_banks"))).findIndex((function(t){return t.ifsc===e}));a.splice(c,1),n(a),localStorage.setItem("favorite_banks",JSON.stringify(a));var i=JSON.parse(localStorage.getItem("bank_details_".concat(t.city)));i.forEach((function(t){t.ifsc===e&&(t.favorite=!t.favorite)})),localStorage.setItem("bank_details_".concat(t.city),JSON.stringify(i))}}}))}})]})};a(159);var J=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.a,{exact:!0,from:"/",to:"/all-banks"}),Object(j.jsx)(l.b,{exact:!0,path:"/all-banks",component:I}),Object(j.jsx)(l.b,{exact:!0,path:"/all-banks/:ifsc",component:C}),Object(j.jsx)(l.b,{path:"/favorites",component:A})]})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,182)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};a(160);r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(J,{})})}),document.getElementById("root")),B()}},[[161,1,2]]]);
//# sourceMappingURL=main.31e37071.chunk.js.map